# NetWork

### 1) 네트워크란?
노드들이 데이터를 공유 할 수 있게 하는 통신망의 하나이다.
노드란 : 네트워크에 속한 컴퓨터 또는 통신장비
링크 : 유선 혹은 무선 
노드와 링크가 연결이 되어서 만들어진다.

### 2) 처리량과 지연시간
좋은 네트워크란 많은 처리량을 처리 할 수 있고 , 지연 시간이 짧고 장애 빈도가 적고 좋은 보안을 갖춘 네트워크이다.
여기서 처리량이란
링크를 통해 전달되는 단위시간당 데이터 양을 의미한다.  
단위는 보통 bps 를 사용한다. (bits per second)  
지연시간은 요청이 처리되는 시간을 말하며 어떤 메세지가 두 장치 사이를 왕복하는데 걸린 시간을 의미한다.  

### 3) 네트워크 토폴로지  

노드와 링크가 어떻게 배치되어 있는지에 대한 방식 즉 연결 형태를 의미한다.
크게 5개 정도의 토폴로지가 있다.  

1. star 토폴로지 : 중앙에 있는 노드에 모두 연결된 네트워크 구성이다.  
노드를 추가하거나 에러를 탐지하기 쉽고 패킷의 충돌 발생 가능성이 적다.    
또한 어떠한 노드에 장애가 발생해도 쉽게 에러를 발견할 수 있으며 장애 노드가 중앙 노드가 아닐 경우에는 다른 노드에게 영향을 끼치는 것이 적다.  
하지만 중앙 노드에 장애가 발생할 경우에는 네트워크를 사용할 수 없고, 설치 비용이 비싸다는 단점이 있다.  

2. ring 토폴로지  
각각의 노드가 양 옆의 두 노드와 연결하여 전체적으론 고리 모양으로 하나의 연속된 길을 통해 통신을 하는 망 구성 방식이다.  
노드의 수가 증가되어도 네트워크 상의 손실이 거의 없고 충돌이 발생되는 가능성이 적고 노드의 고장 발견을 쉽게 할 수 있다는 장점이 있다.  
하지만 네트워크 구성 변경이 어렵고 , 회선에 장애가 발생하면 전체 네트워크에 영향을 크게 미치는 단점이 있다.  

3. mesh 토폴로지  
망형 토폴로지라고도 한다. (그물망처럼 연결되어 있음)  
한단말 장치에 장애가 발생해도 여려개의 경로가 존재해서 네트워크를 계속 사용할 수 있다는 장점이 있다.  
또한 트래픽도 분산 처리가 가능하다.  
단점으로는 노드의 추가가 어렵고 구축 비용과 운용 비용이 많이 든다는 점이 있다.  

-병목현상
네트워크의 구조 즉 , 토폴로지가 중요한 이유는 병목현상을 찾을 때 중요한 기준이 되기 때문이다.  
토폴로지 구성상 병목현상이 일어나게 되면 , 서버와 서버간 그리고 게이트웨이로 이어지는 회선을 추가해서 해결 할 수 있다.  

### 4) 네트워크 분류
네트워크는 규모를 기반으로 분류 할 수 있다.  
사무실 혹은 개인적으로 소유 가능한 규모인
LAN (local area network)  
서울시 등 시 정도의 규모인  
MAN (Metropolitan area network)
그리고 세계 규모의
WAN (Wide area network)  
등으로 분류한다.  

### 5) 네트워크 성능 분석 명령어  
에플리케이션 코드상에 문제가 없음에도 불구하고 사용자가 서비스로부터 데이터를 가지고 오지 못하는 상황이 발생되기도 한다.  
이때 원인이 네트워크 병목현상일 가능성도 있다.  
- 병목현상의 주된 원인
네트워크 대역폭  
네트워크 토폴로지  
서버 CPU, 메모리 사용량  
비효율적인 네트워크 구성  

- 명령어
1. ping
네트워크 상태를 확인하려는 대상 노드를 향해 일정크기의 패킷을 전송하는 명령어 이다.  
이를 통해 해당 노드의 패킷 수신 상태와 도달하기까지의 시간등을 알 수 있다.  
TCP/IP프로토콜중에 ICMP프로토콜을 통해 동작한다.  

2. netstat
접속되어 있는 서비스들의 네트워크 상태를 표시한다.  
네트워크 접속 , 라우팅 테이블, 네트워크 프로토콜 등 리스트를 보여준다.  
주로 서비스의 포트가 열려 있는지 확인할때 사용  


3. tracert
목적지 노드까지 네트워크 경로를 확인할때 사용하는 명령어 이다.  
목적지 노드까지 구간들 중 어느 구간에서 응답시간이 느린지를 확인 할 수 있다.  

4. nslookup
DNS에 관련된 내용을 확인하기 위해 사용한다.  
특정도메인에 매핑된 IP를 확인하기 위해 사용  


### 6) TCP/IP모델
프로토콜의 네트워킹 범위에 따라서 네 개의 추상적인 계층으로 구분된다.  

1. 애플리케이션 계층(FTP, HTTP, SSH, SMTP , DNS)  
application 계층은 응용프로그램이 사용되는 프로토콜 계층이다.  
웹서비스나 이메일, 파일전송등 실질적으로 사람들에게 제공하는 층이다.  
FTP : file transfer protocol 파일을 전송하는데 사용되는 표준 통신 프로토콜 이다.  
SSH : secure shell 보안되지 않은 네트워크에서 서비스를 안전하게 운영하기 위한 암호화 네트워크 프로토콜  
HTTP : 
SSH
SMTP
DNS

2. 전송계층(TCP, UDP, QUIC)  

3. 인터넷 계층(IP,ARP, ICMP)  

4. 링크계층(ethernet)  

### 7) 인터넷이란?  
세계에서 가장 큰 전세계를 연결하는 네트워크  
주로 웹서비스를 많이 이용한다.  
웹서비스와 인터넷은 다른  것  

### 8) 네트워크의 통신 방식  
유니캐스트 : 특정 대상이랑만 1:1 통신  
멀티 캐스트 : 특정 다수와 1:N으로 통신  
브로드 캐스트 : 네트워크에 있는 모든 대상과 통신  

### 9) 네트워크 프로토콜  
프로토콜 : 일종의 약속 , 양식  
네트워크에서 노드와 노드가 통신할때 출발노드 도착 노드 어떤 데이터를 어떻게 보내는지 작성하기 위한 양식  
각 프로토콜당 프로토콜만의 양식이 있다.  

가까운곳에서 연락 할때 : Ethenet 프로토콜(MAC주소)  
멀리 있는 곳에 연락할때 : ICMP, IPv4 , ARP (IP주소)  
여러가지 프로그램으로 연락할때 : tcp/ udp (포트번호)  

실제로는 데이터를 보낼때 여러가지 프로토콜을 사용  


### 10) 패킷  
페킷이란 네트워크 상에서 전달되는 데이터를 통칭한다.  
패킷은 제어정보와 사용자 데이터로 이루어져 있다.  

헤더 + 페이로드 +풋터  
이런식으로 이뤄져 있다. (풋터는 잘 이용하지 않음)  
페이로드가 실질적으로 보내려고 하는 데이터 이다.  

컴퓨터가 통신하려면 여러 단계를 거쳐야 되기 때문에    

TCP(해더) + 데이터  
IPv4 + 페이로드 (TCP + 데이터)  
Ethenet + 페이로드(IPv4 + TCP + 데이터)  

이런식으로 캡슐화를 시켜서 단계별로 전송하게 된다.  
그러면 데이터를 받는 컴퓨터가 디캡슐화를 해서 데이터를 보게 된다.  

패킷의 단위에 따라서 부르는것이 각각 다르다.(3계층까지 붙었는지 2계층 까지 붙었는지에 따라)  

TCP(해더) + 데이터  => 4계층까지 합치면 세그먼트  
IPv4 + 페이로드 (TCP + 데이터)  => 3계층 까지 합치면 패킷  
Ethenet + 페이로드(IPv4 + TCP + 데이터) => 2계층까지 합치면 프레임  

3계층까지 합친걸 패킷이라고 부르긴 하지만 통상적으로 패킷이라는 용어는 전달되는 데이터의 통칭으로써 사용된다.  

